<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.leezu.mapper.userMapper">
	
	<!-- 회원가입 -->
	<insert id="userReg" parameterType="UserReg">
	<!--  0은 authority(관리자 : 1) 1은 emailchecked(이메일인증 : 1) -->
	insert into user
		values( #{userID},
				#{userPassword},
				#{userName},
				#{userEmail},
				'0',
				'1',
				current_timestamp)
	</insert>
	
	<!-- 로그인 -->
	<select id="userLogin" parameterType="User">
		select USERID, USERPASSWORD
			from user
		where	USERID = #{userID}
		and		USERPASSWORD = #{userPassword}
	</select>
	
	<!-- 아이디 검색 -->
	<select id="selectByID" resultType="User">
		select * from user
		where USERID = #{userID}
	</select>
	
	<!-- 회원 조회 -->
	<select id="userList" resultType="User">
		select *
		from user
		where AUTHORITY = 0
		order by USERNAME
	</select>
	
	<!-- 게시판 목록 조회 -->
	<select id="noticeList" resultType="Notice">
		select *
		from notice
	</select>
	
	<!-- 게시글 조회 -->
	<select id="noticeById" parameterType="int" resultType="Notice">
		select *
		from notice
		where noticeID = #{noticeID}
	</select>
	
	<!-- 상품 목록 조회 -->
	<select id="productList" resultType="Product">
		select *
		from product
	</select>
	
	<!-- 상품 등록 -->
	<select id="regProduct" resultType="preProduct">
		insert into product(name, price, description, size, imageUrl)
			values(	#{name},
					#{price},
					#{description},
					#{size},
					#{imageUrl})
	</select>
</mapper>